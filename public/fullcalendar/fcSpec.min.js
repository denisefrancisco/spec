/*!
 * FullCalendar v1.6.4
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
;var defaults={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"Today",month:"Month",week:"Week",day:"Day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*",handleWindowResize:true};(function(aq,v){var az=aq.fullCalendar={version:"1.6.4"};var ac=az.views={};aq.fn.fullCalendar=function(aL){if(typeof aL=="string"){var aK=Array.prototype.slice.call(arguments,1);var aM;this.each(function(){var aO=aq.data(this,"fullCalendar");if(aO&&aq.isFunction(aO[aL])){var aN=aO[aL].apply(aO,aK);if(aM===v){aM=aN}if(aL=="destroy"){aq.removeData(this,"fullCalendar")}}});if(aM!==v){return aM}return this}aL=aL||{};var aJ=aL.eventSources||[];delete aL.eventSources;if(aL.events){aJ.push(aL.events);delete aL.events}aL=aq.extend(true,{},defaults,(aL.isRTL||aL.isRTL===v&&defaults.isRTL)?rtlDefaults:{},aL);this.each(function(aP,aN){var aO=aq(aN);var aQ=new t(aO,aL,aJ);aO.data("fullCalendar",aQ);aQ.render()});return this};function ag(aJ){aq.extend(true,defaults,aJ)}function t(a3,ba,bd){var bw=this;bw.options=ba;bw.render=bl;bw.destroy=by;bw.refetchEvents=aY;bw.reportEvents=a0;bw.reportEventChange=bA;bw.rerenderEvents=aM;bw.changeView=aU;bw.select=bx;bw.unselect=aV;bw.prev=bh;bw.next=aL;bw.prevYear=bz;bw.nextYear=aK;bw.today=a4;bw.gotoDate=bk;bw.incrementDate=a7;bw.formatDate=function(bG,bF){return C(bG,bF,ba)};bw.formatDates=function(bH,bG,bF){return k(bH,bG,bF,ba)};bw.getDate=a8;bw.getView=be;bw.option=bt;bw.trigger=bj;s.call(bw,ba,bd);var aJ=bw.isFetchNeeded;var bD=bw.fetchEvents;var bu=a3[0];var aO;var bm;var aX;var bE;var aW;var bi;var aR;var bn=0;var bv=0;var bB=new Date();var bc=[];var aP;z(bB,ba.year,ba.month,ba.date);function bl(bF){if(!aX){bb()}else{if(br()){bo();bC(bF)}}}function bb(){bE=ba.theme?"ui":"fc";a3.addClass("fc");if(ba.isRTL){a3.addClass("fc-rtl")}else{a3.addClass("fc-ltr")}if(ba.theme){a3.addClass("ui-widget")}aX=aq("<div class='fc-content' style='position:relative'/>").prependTo(a3);aO=new Q(bw,ba);bm=aO.render();if(bm){aq("#newHeader").html(bm)}aU(ba.defaultView);if(ba.handleWindowResize){aq(window).resize(aZ)}if(!a2()){aT()}}function aT(){setTimeout(function(){if(!aW.start&&a2()){a9()}},0)}function by(){if(aW){bj("viewDestroy",aW,aW,aW.element);aW.triggerEventDestroy()}aq(window).unbind("resize",aZ);aO.destroy();aX.remove();a3.removeClass("fc fc-rtl ui-widget")}function br(){return a3.is(":visible")}function a2(){return aq("body").is(":visible")}function aU(bF){if(!aW||bF!=aW.name){bp(bF)}}function bp(bF){bv++;if(aW){bj("viewDestroy",aW,aW,aW.element);aV();aW.triggerEventDestroy();aN();aW.element.remove();aO.deactivateButton(aW.name)}aO.activateButton(bF);aW=new ac[bF](aq("<div class='fc-view fc-view-"+bF+"' style='position:relative'/>").appendTo(aX),bw);a9();a1();bv--}function a9(bF){bC(bF)}function bC(bF){bv++;if(aW.start){bj("viewDestroy",aW,aW,aW.element);aV();bf()}aN();aW.render(bB,bF||0);bs();a1();(aW.afterRender||ao)();a5();bg();bj("viewRender",aW,aW,aW.element);aW.trigger("viewDisplay",bu);bv--;aS()}function a6(){if(br()){aV();bf();bo();bs();aQ()}}function bo(){if(ba.contentHeight){aR=ba.contentHeight}else{if(ba.height){aR=ba.height-(bm?bm.height():0)-G(aX)}else{aR=Math.round(aX.width()/Math.max(ba.aspectRatio,0.5))}}}function bs(){if(aR===v){bo()}bv++;aW.setHeight(aR);aW.setWidth(aX.width());bv--;bi=a3.outerWidth()}function aZ(){if(!bv){if(aW.start){var bF=++bn;setTimeout(function(){if(bF==bn&&!bv&&br()){if(bi!=(bi=a3.outerWidth())){bv++;a6();aW.trigger("windowResize",bu);bv--}}},200)}else{aT()}}}function aY(){bf();bq()}function aM(bF){bf();aQ(bF)}function aQ(bF){if(br()){aW.setEventData(bc);aW.renderEvents(bc,bF);aW.trigger("eventAfterAllRender")}}function bf(){aW.triggerEventDestroy();aW.clearEvents();aW.clearEventData()}function aS(){if(!ba.lazyFetching||aJ(aW.visStart,aW.visEnd)){bq()}else{aQ()}}function bq(){bD(aW.visStart,aW.visEnd)}function a0(bF){bc=bF;aQ()}function bA(bF){aM(bF)}function a5(){aO.updateTitle(aW.title)}function bg(){var bF=new Date();if(bF>=aW.start&&bF<new Date(aW.start.getFullYear(),aW.start.getMonth(),aW.start.getDate()+1)){aO.disableButton("today")}else{aO.enableButton("today")}}function bx(bH,bF,bG){aW.select(bH,bF,bG===v?true:bG)}function aV(){if(aW){aW.unselect()}}function bh(){a9(-1)}function aL(){a9(1)}function bz(){a9(-7)}function aK(){a9(7)}function a4(){bB=new Date();a9()}function bk(bG,bH,bF){if(bG instanceof Date){bB=M(bG)}else{z(bB,bG,bH,bF)}a9()}function a7(bG,bF,bH){if(bG!==v){af(bB,bG)}if(bF!==v){p(bB,bF)}if(bH!==v){aB(bB,bH)}a9()}function a8(){return M(bB)}function aN(){aX.css({width:"100%",height:aX.height(),overflow:"hidden"})}function a1(){aX.css({width:"",height:"",overflow:""})}function be(){return aW}function bt(bF,bG){if(bG===v){return ba[bF]}if(bF=="height"||bF=="contentHeight"||bF=="aspectRatio"){ba[bF]=bG;a6()}}function bj(bF,bG){if(ba[bF]){return ba[bF].apply(bG||bu,Array.prototype.slice.call(arguments,2))}}if(ba.droppable){aq(document).bind("dragstart",function(bH,bI){var bF=bH.target;var bJ=aq(bF);if(!bJ.parents(".fc").length){var bG=ba.dropAccept;if(aq.isFunction(bG)?bG.call(bF,bJ):bJ.is(bG)){aP=bF;aW.dragStart(aP,bH,bI)}}}).bind("dragstop",function(bF,bG){if(aP){aW.dragStop(aP,bF,bG);aP=null}})}}function Q(aM,aV){var aU=this;aU.render=aK;aU.destroy=aQ;aU.updateTitle=aO;aU.activateButton=aJ;aU.deactivateButton=aS;aU.disableButton=aL;aU.enableButton=aP;var aN=aq([]);var aR;function aK(){aR=aV.theme?"ui":"fc";var aW=aV.header;if(aW){aN=aq("<table class='fc-header' style='width:100%'/>").append(aq("<tr/>").append(aT("left")).append(aT("center")).append(aT("right")));return aN}}function aQ(){aN.remove()}function aT(aW){var aY=aq("<td class='fc-header-"+aW+"'/>");var aX=aV.header[aW];if(aX){aq.each(aX.split(" "),function(a0){if(a0>0){aY.append("<span class='fc-header-space'/>")}var aZ;aq.each(this.split(","),function(a3,a2){if(a2=="title"){aY.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");if(aZ){aZ.addClass(aR+"-corner-right")}aZ=null}else{var a1;if(aM[a2]){a1=aM[a2]}else{if(ac[a2]){a1=function(){a4.removeClass(aR+"-state-hover");aM.changeView(a2)}}}if(a1){var a5=aV.theme?F(aV.buttonIcons,a2):null;var a6=F(aV.buttonText,a2);var a4=aq("<span class='fc-button fc-button-"+a2+" "+aR+"-state-default'>"+(a5?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+a5+"'/></span>":a6)+"</span>").click(function(){if(!a4.hasClass(aR+"-state-disabled")){a1()}}).mousedown(function(){a4.not("."+aR+"-state-active").not("."+aR+"-state-disabled").addClass(aR+"-state-down")}).mouseup(function(){a4.removeClass(aR+"-state-down")}).hover(function(){a4.not("."+aR+"-state-active").not("."+aR+"-state-disabled").addClass(aR+"-state-hover")},function(){a4.removeClass(aR+"-state-hover").removeClass(aR+"-state-down")}).appendTo(aY);aI(a4);if(!aZ){a4.addClass(aR+"-corner-left")}aZ=a4}}});if(aZ){aZ.addClass(aR+"-corner-right")}})}return aY}function aO(aW){aN.find("h2").html(aW)}function aJ(aW){aN.find("span.fc-button-"+aW).addClass(aR+"-state-active")}function aS(aW){aN.find("span.fc-button-"+aW).removeClass(aR+"-state-active")}function aL(aW){aN.find("span.fc-button-"+aW).addClass(aR+"-state-disabled")}function aP(aW){aN.find("span.fc-button-"+aW).removeClass(aR+"-state-disabled")}}az.sourceNormalizers=[];az.sourceFetchers=[];var n={dataType:"json",cache:false};var T=1;function s(aP,aX){var aZ=this;aZ.isFetchNeeded=aR;aZ.fetchEvents=aY;aZ.addEventSource=aM;aZ.removeEventSource=aN;aZ.updateEvent=a2;aZ.renderEvent=aV;aZ.removeEvents=be;aZ.clientEvents=a8;aZ.normalizeEvent=aU;var a1=aZ.trigger;var aJ=aZ.getView;var a4=aZ.reportEvents;var a6={events:[]};var aK=[a6];var bb,a7;var aL=0;var bc=0;var ba=0;var a0=[];for(var a9=0;a9<aX.length;a9++){a3(aX[a9])}function aR(bg,bf){return !bb||bg<bb||bf>a7}function aY(bj,bg){bb=bj;a7=bg;a0=[];var bi=++aL;var bf=aK.length;bc=bf;for(var bh=0;bh<bf;bh++){aQ(aK[bh],bi)}}function aQ(bg,bf){a5(bg,function(bi){if(bf==aL){if(bi){if(aP.eventDataTransform){bi=aq.map(bi,aP.eventDataTransform)}if(bg.eventDataTransform){bi=aq.map(bi,bg.eventDataTransform)}for(var bh=0;bh<bi.length;bh++){bi[bh].source=bg;aU(bi[bh])}a0=a0.concat(bi)}bc--;if(!bc){a4(a0)}}})}function a5(bf,bp){var bk;var bo=az.sourceFetchers;var bm;for(bk=0;bk<bo.length;bk++){bm=bo[bk](bf,bb,a7,bp);if(bm===true){return}else{if(typeof bm=="object"){a5(bm,bp);return}}}var br=bf.events;if(br){if(aq.isFunction(br)){aT();br(M(bb),M(a7),function(bt){bp(bt);bd()})}else{if(aq.isArray(br)){bp(br)}else{bp()}}}else{var bg=bf.url;if(bg){var bq=bf.success;var bn=bf.error;var bh=bf.complete;var bs;if(aq.isFunction(bf.data)){bs=bf.data()}else{bs=bf.data}var bj=aq.extend({},bs||{});var bl=aG(bf.startParam,aP.startParam);var bi=aG(bf.endParam,aP.endParam);if(bl){bj[bl]=Math.round(+bb/1000)}if(bi){bj[bi]=Math.round(+a7/1000)}aT();aq.ajax(aq.extend({},n,bf,{data:bj,success:function(bu){bu=bu||[];var bt=I(bq,this,arguments);if(aq.isArray(bt)){bu=bt}bp(bu)},error:function(){I(bn,this,arguments);bp()},complete:function(){I(bh,this,arguments);bd();a1("newEventsComplete")}}))}else{bp()}}}function aM(bf){bf=a3(bf);if(bf){bc++;aQ(bf,aL)}}function a3(bf){if(aq.isFunction(bf)||aq.isArray(bf)){bf={events:bf}}else{if(typeof bf=="string"){bf={url:bf}}}if(typeof bf=="object"){aW(bf);aK.push(bf);return bf}}function aN(bf){aK=aq.grep(aK,function(bg){return !aS(bg,bf)});a0=aq.grep(a0,function(bg){return !aS(bg.source,bf)});a4(a0)}function a2(bk){var bi,bg=a0.length,bl,bf=aJ().defaultEventEnd,bj=bk.start-bk._start,bh=bk.end?(bk.end-(bk._end||bf(bk))):0;for(bi=0;bi<bg;bi++){bl=a0[bi];if(bl._id==bk._id&&bl!=bk){bl.start=new Date(+bl.start+bj);if(bk.end){if(bl.end){bl.end=new Date(+bl.end+bh)}else{bl.end=new Date(+bf(bl)+bh)}}else{bl.end=null}bl.title=bk.title;bl.url=bk.url;bl.allDay=bk.allDay;bl.className=bk.className;bl.editable=bk.editable;bl.color=bk.color;bl.backgroundColor=bk.backgroundColor;bl.borderColor=bk.borderColor;bl.textColor=bk.textColor;aU(bl)}}aU(bk);a4(a0)}function aV(bg,bf){aU(bg);if(!bg.source){if(bf){a6.events.push(bg);bg.source=a6}a0.push(bg)}a4(a0)}function be(bg){if(!bg){a0=[];for(var bf=0;bf<aK.length;bf++){if(aq.isArray(aK[bf].events)){aK[bf].events=[]}}}else{if(!aq.isFunction(bg)){var bh=bg+"";bg=function(bi){return bi._id==bh}}a0=aq.grep(a0,bg,true);for(var bf=0;bf<aK.length;bf++){if(aq.isArray(aK[bf].events)){aK[bf].events=aq.grep(aK[bf].events,bg,true)}}}a4(a0)}function a8(bf){if(aq.isFunction(bf)){return aq.grep(a0,bf)}else{if(bf){bf+="";return aq.grep(a0,function(bg){return bg._id==bf})}}return a0}function aT(){if(!ba++){a1("loading",null,true,aJ())}}function bd(){if(!--ba){a1("loading",null,false,aJ())}}function aU(bg){var bh=bg.source||{};var bf=aG(bh.ignoreTimezone,aP.ignoreTimezone);bg._id=bg._id||(bg.id===v?"_fc"+T++:bg.id+"");if(bg.date){if(!bg.start){bg.start=bg.date}delete bg.date}bg._start=M(bg.start=X(bg.start,bf));bg.end=X(bg.end,bf);if(bg.end&&bg.end<=bg.start){bg.end=null}bg._end=bg.end?M(bg.end):null;if(bg.allDay===v){bg.allDay=aG(bh.allDayDefault,aP.allDayDefault)}if(bg.className){if(typeof bg.className=="string"){bg.className=bg.className.split(/\s+/)}}else{bg.className=[]}}function aW(bh){if(bh.className){if(typeof bh.className=="string"){bh.className=bh.className.split(/\s+/)}}else{bh.className=[]}var bg=az.sourceNormalizers;for(var bf=0;bf<bg.length;bf++){bg[bf](bh)}}function aS(bg,bf){return bg&&bf&&aO(bg)==aO(bf)}function aO(bf){return((typeof bf=="object")?(bf.events||bf.url):"")||bf}}az.addDays=aB;az.cloneDate=M;az.parseDate=X;az.parseISO8601=o;az.parseTime=aF;az.formatDate=C;az.formatDates=k;var O=["sun","mon","tue","wed","thu","fri","sat"],au=86400000,ai=3600000,R=60000;function af(aK,aL,aJ){aK.setFullYear(aK.getFullYear()+aL);if(!aJ){e(aK)}return aK}function p(aM,aN,aL){if(+aM){var aJ=aM.getMonth()+aN,aK=M(aM);aK.setDate(1);aK.setMonth(aJ);aM.setMonth(aJ);if(!aL){e(aM)}while(aM.getMonth()!=aK.getMonth()){aM.setDate(aM.getDate()+(aM<aK?1:-1))}}return aM}function aB(aM,aN,aL){if(+aM){var aJ=aM.getDate()+aN,aK=M(aM);aK.setHours(9);aK.setDate(aJ);aM.setDate(aJ);if(!aL){e(aM)}aD(aM,aK)}return aM}function aD(aK,aJ){if(+aK){while(aK.getDate()!=aJ.getDate()){aK.setTime(+aK+(aK<aJ?1:-1)*ai)}}}function j(aJ,aK){aJ.setMinutes(aJ.getMinutes()+aK);return aJ}function e(aJ){aJ.setHours(0);aJ.setMinutes(0);aJ.setSeconds(0);aJ.setMilliseconds(0);return aJ}function M(aJ,aK){if(aK){return e(new Date(+aJ))}return new Date(+aJ)}function g(){var aJ=0,aK;do{aK=new Date(1970,aJ++,1)}while(aK.getHours());return aK}function ay(aK,aJ){return Math.round((M(aK,true)-M(aJ,true))/au)}function z(aK,aM,aJ,aL){if(aM!==v&&aM!=aK.getFullYear()){aK.setDate(1);aK.setMonth(0);aK.setFullYear(aM)}if(aJ!==v&&aJ!=aK.getMonth()){aK.setDate(1);aK.setMonth(aJ)}if(aL!==v){aK.setDate(aL)}}function X(aK,aJ){if(typeof aK=="object"){return aK}if(typeof aK=="number"){return new Date(aK*1000)}if(typeof aK=="string"){if(aK.match(/^\d+(\.\d+)?$/)){return new Date(parseFloat(aK)*1000)}if(aJ===v){aJ=true}return o(aK,aJ)||(aK?new Date(aK):null)}return null}function o(aN,aK){var aJ=aN.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!aJ){return null}var aM=new Date(aJ[1],0,1);if(aK||!aJ[13]){var aL=new Date(aJ[1],0,1,9,0);if(aJ[3]){aM.setMonth(aJ[3]-1);aL.setMonth(aJ[3]-1)}if(aJ[5]){aM.setDate(aJ[5]);aL.setDate(aJ[5])}aD(aM,aL);if(aJ[7]){aM.setHours(aJ[7])}if(aJ[8]){aM.setMinutes(aJ[8])}if(aJ[10]){aM.setSeconds(aJ[10])}if(aJ[12]){aM.setMilliseconds(Number("0."+aJ[12])*1000)}aD(aM,aL)}else{aM.setUTCFullYear(aJ[1],aJ[3]?aJ[3]-1:0,aJ[5]||1);aM.setUTCHours(aJ[7]||0,aJ[8]||0,aJ[10]||0,aJ[12]?Number("0."+aJ[12])*1000:0);if(aJ[14]){var aO=Number(aJ[16])*60+(aJ[18]?Number(aJ[18]):0);aO*=aJ[15]=="-"?1:-1;aM=new Date(+aM+(aO*60*1000))}}return aM}function aF(aL){if(typeof aL=="number"){return aL*60}if(typeof aL=="object"){return aL.getHours()*60+aL.getMinutes()}var aJ=aL.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(aJ){var aK=parseInt(aJ[1],10);if(aJ[3]){aK%=12;if(aJ[3].toLowerCase().charAt(0)=="p"){aK+=12}}return aK*60+(aJ[2]?parseInt(aJ[2],10):0)}}function C(aK,aL,aJ){return k(aK,null,aL,aJ)}function k(aV,aU,aT,aW){aW=aW||defaults;var aK=aV,aM=aU,aN,aO=aT.length,aQ,aL,aS,aP="";for(aN=0;aN<aO;aN++){aQ=aT.charAt(aN);if(aQ=="'"){for(aL=aN+1;aL<aO;aL++){if(aT.charAt(aL)=="'"){if(aK){if(aL==aN+1){aP+="'"}else{aP+=aT.substring(aN+1,aL)}aN=aL}break}}}else{if(aQ=="("){for(aL=aN+1;aL<aO;aL++){if(aT.charAt(aL)==")"){var aJ=C(aK,aT.substring(aN+1,aL),aW);if(parseInt(aJ.replace(/\D/,""),10)){aP+=aJ}aN=aL;break}}}else{if(aQ=="["){for(aL=aN+1;aL<aO;aL++){if(aT.charAt(aL)=="]"){var aR=aT.substring(aN+1,aL);var aJ=C(aK,aR,aW);if(aJ!=C(aM,aR,aW)){aP+=aJ}aN=aL;break}}}else{if(aQ=="{"){aK=aU;aM=aV}else{if(aQ=="}"){aK=aV;aM=aU}else{for(aL=aO;aL>aN;aL--){if(aS=ax[aT.substring(aN,aL)]){if(aK){aP+=aS(aK,aW)}aN=aL-1;break}}if(aL==aN){if(aK){aP+=aQ}}}}}}}}return aP}var ax={s:function(aJ){return aJ.getSeconds()},ss:function(aJ){return Y(aJ.getSeconds())},m:function(aJ){return aJ.getMinutes()},mm:function(aJ){return Y(aJ.getMinutes())},h:function(aJ){return aJ.getHours()%12||12},hh:function(aJ){return Y(aJ.getHours()%12||12)},H:function(aJ){return aJ.getHours()},HH:function(aJ){return Y(aJ.getHours())},d:function(aJ){return aJ.getDate()},dd:function(aJ){return Y(aJ.getDate())},ddd:function(aK,aJ){return aJ.dayNamesShort[aK.getDay()]},dddd:function(aK,aJ){return aJ.dayNames[aK.getDay()]},M:function(aJ){return aJ.getMonth()+1},MM:function(aJ){return Y(aJ.getMonth()+1)},MMM:function(aK,aJ){return aJ.monthNamesShort[aK.getMonth()]},MMMM:function(aK,aJ){return aJ.monthNames[aK.getMonth()]},yy:function(aJ){return(aJ.getFullYear()+"").substring(2)},yyyy:function(aJ){return aJ.getFullYear()},t:function(aJ){return aJ.getHours()<12?"a":"p"},tt:function(aJ){return aJ.getHours()<12?"am":"pm"},T:function(aJ){return aJ.getHours()<12?"A":"P"},TT:function(aJ){return aJ.getHours()<12?"AM":"PM"},u:function(aJ){return C(aJ,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(aK){var aJ=aK.getDate();if(aJ>10&&aJ<20){return"th"}return["st","nd","rd"][aJ%10-1]||"th"},w:function(aK,aJ){return aJ.weekNumberCalculation(aK)},W:function(aJ){return w(aJ)}};az.dateFormatters=ax;function w(aJ){var aK;var aL=new Date(aJ.getTime());aL.setDate(aL.getDate()+4-(aL.getDay()||7));aK=aL.getTime();aL.setMonth(0);aL.setDate(1);return Math.floor(Math.round((aK-aL)/86400000)/7)+1}az.applyAll=I;function al(aJ){if(aJ.end){return r(aJ.end,aJ.allDay)}else{return aB(M(aJ.start),1)}}function r(aJ,aK){aJ=M(aJ);return aK||aJ.getHours()||aJ.getMinutes()?aB(aJ,1):e(aJ)}function u(aK,aJ,aL){aK.unbind("mouseover").mouseover(function(aP){var aO=aP.target,aQ,aN,aM;while(aO!=this){aQ=aO;aO=aO.parentNode}if((aN=aQ._fci)!==v){aQ._fci=v;aM=aJ[aN];aL(aM.event,aM.element,aM);aq(aP.target).trigger(aP)}aP.stopPropagation()})}function ar(aL,aM,aJ){for(var aK=0,aN;aK<aL.length;aK++){aN=aq(aL[aK]);aN.width(Math.max(0,aM-i(aN,aJ)))}}function W(aM,aJ,aK){for(var aL=0,aN;aL<aM.length;aL++){aN=aq(aM[aL]);aN.height(Math.max(0,aJ-G(aN,aK)))}}function i(aK,aJ){return ae(aK)+q(aK)+(aJ?ad(aK):0)}function ae(aJ){return(parseFloat(aq.css(aJ[0],"paddingLeft",true))||0)+(parseFloat(aq.css(aJ[0],"paddingRight",true))||0)}function ad(aJ){return(parseFloat(aq.css(aJ[0],"marginLeft",true))||0)+(parseFloat(aq.css(aJ[0],"marginRight",true))||0)}function q(aJ){return(parseFloat(aq.css(aJ[0],"borderLeftWidth",true))||0)+(parseFloat(aq.css(aJ[0],"borderRightWidth",true))||0)}function G(aK,aJ){return y(aK)+an(aK)+(aJ?l(aK):0)}function y(aJ){return(parseFloat(aq.css(aJ[0],"paddingTop",true))||0)+(parseFloat(aq.css(aJ[0],"paddingBottom",true))||0)}function l(aJ){return(parseFloat(aq.css(aJ[0],"marginTop",true))||0)+(parseFloat(aq.css(aJ[0],"marginBottom",true))||0)}function an(aJ){return(parseFloat(aq.css(aJ[0],"borderTopWidth",true))||0)+(parseFloat(aq.css(aJ[0],"borderBottomWidth",true))||0)}function ao(){}function a(aK,aJ){return aK-aJ}function ap(aJ){return Math.max.apply(Math,aJ)}function Y(aJ){return(aJ<10?"0":"")+aJ}function F(aN,aJ){if(aN[aJ]!==v){return aN[aJ]}var aM=aJ.split(/(?=[A-Z])/),aL=aM.length-1,aK;for(;aL>=0;aL--){aK=aN[aM[aL].toLowerCase()];if(aK!==v){return aK}}return aN[""]}function aE(aJ){return aJ.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function aI(aJ){aJ.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function f(aJ){aJ.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function K(aJ,aK){aJ.each(function(aL,aM){aM.className=aM.className.replace(/^fc-\w*/,"fc-"+O[aK.getDay()])})}function P(aK,aL){var aJ=aK.source||{};var aQ=aK.color;var aO=aJ.color;var aN=aL("eventColor");var aR=aK.backgroundColor||aQ||aJ.backgroundColor||aO||aL("eventBackgroundColor")||aN;var aM=aK.borderColor||aQ||aJ.borderColor||aO||aL("eventBorderColor")||aN;var aS=aK.textColor||aJ.textColor||aL("eventTextColor");var aP=[];if(aR){aP.push("background-color:"+aR)}if(aM){aP.push("border-color:"+aM)}if(aS){aP.push("color:"+aS)}return aP.join(";")}function I(aM,aN,aK){if(aq.isFunction(aM)){aM=[aM]}if(aM){var aL;var aJ;for(aL=0;aL<aM.length;aL++){aJ=aM[aL].apply(aN,aK)||aJ}return aJ}}function aG(){for(var aJ=0;aJ<arguments.length;aJ++){if(arguments[aJ]!==v){return arguments[aJ]}}}ac.month=aa;function aa(aO,aN){var aR=this;aR.render=aJ;A.call(aR,aO,aN,"month");var aK=aR.opt;var aL=aR.renderBasic;var aP=aR.skipHiddenDays;var aM=aR.getCellsPerWeek;var aQ=aN.formatDate;function aJ(aU,aZ){if(aZ){p(aU,aZ);aU.setDate(1)}var aS=aK("firstDay");var aT=M(aU,true);aT.setDate(1);var aV=p(M(aT),1);var a0=M(aT);aB(a0,-((a0.getDay()-aS+7)%7));aP(a0);var aW=M(aV);aB(aW,(7-aW.getDay()+aS)%7);aP(aW,-1,true);var aY=aM();var aX=Math.round(ay(aW,a0)/7);if(aK("weekMode")=="fixed"){aB(aW,(6-aX)*7);aX=6}aR.title=aQ(aT,aK("titleFormat"));aR.start=aT;aR.end=aV;aR.visStart=a0;aR.visEnd=aW;aL(aX,aY,true)}}ac.basicWeek=aA;function aA(aO,aN){var aR=this;aR.render=aJ;A.call(aR,aO,aN,"basicWeek");var aK=aR.opt;var aL=aR.renderBasic;var aQ=aR.skipHiddenDays;var aM=aR.getCellsPerWeek;var aP=aN.formatDates;function aJ(aW,aY){if(aY){aB(aW,aY*7)}var aX=aB(M(aW),-((aW.getDay()-aK("firstDay")+7)%7));var aU=aB(M(aX),7);var aT=M(aX);aQ(aT);var aS=M(aU);aQ(aS,-1,true);var aV=aM();aR.start=aX;aR.end=aU;aR.visStart=aT;aR.visEnd=aS;aR.title=aP(aT,aB(M(aS),-1),aK("titleFormat"));aL(1,aV,false)}}ac.basicDay=J;function J(aN,aQ){var aM=this;aM.render=aO;A.call(aM,aN,aQ,"basicDay");var aL=aM.opt;var aJ=aM.renderBasic;var aK=aM.skipHiddenDays;var aP=aQ.formatDate;function aO(aS,aU){if(aU){aB(aS,aU)}aK(aS,aU<0?-1:1);var aT=M(aS,true);var aR=aB(M(aT),1);aM.title=aP(aS,aL("titleFormat"));aM.start=aM.visStart=aT;aM.end=aM.visEnd=aR;aJ(1,1,false)}}ag({weekMode:"fixed"});function A(a4,bv,aW){var bu=this;bu.renderBasic=bo;bu.setHeight=bs;bu.setWidth=bD;bu.renderDayOverlay=bk;bu.defaultSelectionEnd=bj;bu.renderSelection=bw;bu.clearSelection=aJ;bu.reportDayClick=a2;bu.dragStart=aO;bu.dragStop=aX;bu.defaultEventEnd=bI;bu.getHoverListener=function(){return aP};bu.colLeft=bK;bu.colRight=a7;bu.colContentLeft=br;bu.colContentRight=bp;bu.getIsCellAllDay=function(){return true};bu.allDayRow=a1;bu.getRowCnt=function(){return bb};bu.getColCnt=function(){return aR};bu.getColWidth=function(){return bg};bu.getDaySegmentContainer=function(){return a0};aC.call(bu,a4,bv,aW);c.call(bu);ak.call(bu);aj.call(bu);var a9=bu.opt;var bl=bu.trigger;var bG=bu.renderOverlay;var aV=bu.clearOverlays;var bq=bu.daySelectionMousedown;var aK=bu.cellToDate;var bz=bu.dateToCell;var bn=bu.rangeToSegments;var bt=bv.formatDate;var ba;var a3;var aY;var be;var aU;var a5;var bh;var bf;var aM;var a0;var bH;var bJ;var bg;var aZ;var bb,aR;var a6;var bx;var aP;var bA;var bB;var bL;var aS;var a8;var by;var bi;aI(a4.addClass("fc-grid"));function bo(bM,bN,bO){bb=bM;aR=bN;a6=bO;bE();if(!be){aN()}bd()}function bE(){bL=a9("theme")?"ui":"fc";aS=a9("columnFormat");a8=a9("weekNumbers");by=a9("weekNumberTitle");if(a9("weekNumberCalculation")!="iso"){bi="w"}else{bi="W"}}function aN(){a0=aq("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a4)}function bd(){var bM=bm();if(ba){ba.remove()}ba=aq(bM).appendTo(a4);a3=ba.find("thead");aY=a3.find(".fc-day-header");be=ba.find("tbody");aU=be.find("tr");a5=be.find(".fc-day");bh=aU.find("td:first-child");bf=aU.eq(0).find(".fc-day > div");aM=aU.eq(0).find(".fc-day-content > div");f(a3.add(a3.find("tr")));f(aU);aU.eq(0).addClass("fc-first");aU.filter(":last").addClass("fc-last");a5.each(function(bO,bP){var bN=aK(Math.floor(bO/aR),bO%aR);bl("dayRender",bu,bN,aq(bP))});aQ(a5)}function bm(){var bM="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+aL()+bc()+"</table>";return bM}function aL(){var bP=bL+"-widget-header";var bO="";var bN;var bM;bO+="<thead><tr>";if(a8){bO+="<th class='fc-week-number "+bP+"'>"+aE(by)+"</th>"}for(bN=0;bN<aR;bN++){bM=aK(0,bN);bO+="<th class='fc-day-header fc-"+O[bM.getDay()]+" "+bP+"'>"+aE(bt(bM,aS))+"</th>"}bO+="</tr></thead>";return bO}function bc(){var bO=bL+"-widget-content";var bP="";var bQ;var bN;var bM;bP+="<tbody>";for(bQ=0;bQ<bb;bQ++){bP+="<tr class='fc-week'>";if(a8){bM=aK(bQ,0);bP+="<td class='fc-week-number "+bO+"'><div>"+aE(bt(bM,bi))+"</div></td>"}for(bN=0;bN<aR;bN++){bM=aK(bQ,bN);bP+=aT(bM)}bP+="</tr>"}bP+="</tbody>";return bP}function aT(bO){var bN=bL+"-widget-content";var bQ=bu.start.getMonth();var bM=e(new Date());var bP="";var bR=["fc-day","fc-"+O[bO.getDay()],bN];if(bO.getMonth()!=bQ){bR.push("fc-other-month")}if(+bO==+bM){bR.push("fc-today",bL+"-state-highlight")}else{if(bO<bM){bR.push("fc-past")}else{bR.push("fc-future")}}bP+="<td class='"+bR.join(" ")+"' data-date='"+bt(bO,"yyyy-MM-dd")+"'><div>";if(a6){bP+="<div class='fc-day-number'>"+bO.getDate()+"</div>"}bP+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";return bP}function bs(bN){bJ=bN;var bQ=bJ-a3.height();var bP;var bO;var bM;if(a9("weekMode")=="variable"){bP=bO=Math.floor(bQ/(bb==1?2:6))}else{bP=Math.floor(bQ/bb);bO=bQ-bP*(bb-1)}bh.each(function(bR,bS){if(bR<bb){bM=aq(bS);bM.find("> div").css("min-height",(bR==bb-1?bO:bP)-G(bM))}})}function bD(bM){bH=bM;bA.clear();bB.clear();aZ=0;if(a8){aZ=a3.find("th.fc-week-number").outerWidth()}bg=Math.floor((bH-aZ)/aR);ar(aY.slice(0,-1),bg)}function aQ(bM){bM.click(bF).mousedown(bq)}function bF(bN){if(!a9("selectable")){var bM=o(aq(this).data("date"));bl("dayClick",this,bM,true,bN)}}function bk(bQ,bR,bM){if(bM){bx.build()}var bN=bn(bQ,bR);for(var bO=0;bO<bN.length;bO++){var bP=bN[bO];aQ(bC(bP.row,bP.leftCol,bP.row,bP.rightCol))}}function bC(bP,bQ,bN,bO){var bM=bx.rect(bP,bQ,bN,bO,a4);return bG(bM,a4)}function bj(bM,bN){return M(bM)}function bw(bM,bO,bN){bk(bM,aB(M(bO),1),true)}function aJ(){aV()}function a2(bO,bQ,bP){var bM=bz(bO);var bN=a5[bM.row*aR+bM.col];bl("dayClick",bN,bO,bQ,bP)}function aO(bO,bM,bN){aP.start(function(bP){aV();if(bP){bC(bP.row,bP.col,bP.row,bP.col)}},bM)}function aX(bQ,bN,bO){var bM=aP.stop();aV();if(bM){var bP=aK(bM);bl("drop",bQ,bP,true,bN,bO)}}function bI(bM){return M(bM.start)}bx=new N(function(bM,bP){var bO,bQ,bN;aY.each(function(bS,bR){bO=aq(bR);bQ=bO.offset().left;if(bS){bN[1]=bQ}bN=[bQ];bP[bS]=bN});bN[1]=bQ+bO.outerWidth();aU.each(function(bS,bR){if(bS<bb){bO=aq(bR);bQ=bO.offset().top;if(bS){bN[1]=bQ}bN=[bQ];bM[bS]=bN}});bN[1]=bQ+bO.outerHeight()});aP=new am(bx);bA=new m(function(bM){return bf.eq(bM)});bB=new m(function(bM){return aM.eq(bM)});function bK(bM){return bA.left(bM)}function a7(bM){return bA.right(bM)}function br(bM){return bB.left(bM)}function bp(bM){return bB.right(bM)}function a1(bM){return aU.eq(bM)}}function aj(){var aK=this;aK.renderEvents=aJ;aK.clearEvents=aL;V.call(aK);function aJ(aN,aM){aK.renderDayEvents(aN,aM)}function aL(){aK.getDaySegmentContainer().empty()}}ac.agendaWeek=h;function h(aO,aN){var aR=this;aR.render=aJ;H.call(aR,aO,aN,"agendaWeek");var aK=aR.opt;var aL=aR.renderAgenda;var aQ=aR.skipHiddenDays;var aM=aR.getCellsPerWeek;var aP=aN.formatDates;function aJ(aW,aY){if(aY){aB(aW,aY)}var aX=aB(M(aW),0);var aU=aB(M(aX),7);var aT=M(aX);aQ(aT);var aS=M(aU);aQ(aS,-1,true);var aV=aM();aR.title=aP(aT,aB(M(aS),-1),aK("titleFormat"));aR.start=aX;aR.end=aU;aR.visStart=aT;aR.visEnd=aS;aL(aV)}}ac.agendaDay=av;function av(aN,aQ){var aM=this;aM.render=aO;H.call(aM,aN,aQ,"agendaDay");var aL=aM.opt;var aJ=aM.renderAgenda;var aK=aM.skipHiddenDays;var aP=aQ.formatDate;function aO(aS,aU){if(aU){aB(aS,aU)}aK(aS,aU<0?-1:1);var aT=M(aS,true);var aR=aB(M(aT),1);aM.title=aP(aS,aL("titleFormat"));aM.start=aM.visStart=aT;aM.end=aM.visEnd=aR;aJ(1)}}ag({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24,slotEventOverlap:true});function H(b8,aZ,bc){var a9=this;a9.renderAgenda=aV;a9.setWidth=bl;a9.setHeight=bh;a9.afterRender=bR;a9.defaultEventEnd=bQ;a9.timePosition=cb;a9.getIsCellAllDay=bs;a9.allDayRow=bz;a9.getCoordinateGrid=function(){return bE};a9.getHoverListener=function(){return b7};a9.colLeft=b2;a9.colRight=bJ;a9.colContentLeft=cc;a9.colContentRight=aR;a9.getDaySegmentContainer=function(){return a4};a9.getSlotSegmentContainer=function(){return aP};a9.getMinMinute=function(){return bg};a9.getMaxMinute=function(){return aL};a9.getSlotContainer=function(){return a2};a9.getRowCnt=function(){return 1};a9.getColCnt=function(){return bC};a9.getColWidth=function(){return aS};a9.getSnapHeight=function(){return b4};a9.getSnapMinutes=function(){return bp};a9.defaultSelectionEnd=bk;a9.renderDayOverlay=aN;a9.renderSelection=b0;a9.clearSelection=bV;a9.reportDayClick=a6;a9.dragStart=aT;a9.dragStop=b9;aC.call(a9,b8,aZ,bc);c.call(a9);ak.call(a9);S.call(a9);var bx=a9.opt;var bA=a9.trigger;var bo=a9.renderOverlay;var aM=a9.clearOverlays;var bq=a9.reportSelection;var bY=a9.unselect;var bv=a9.daySelectionMousedown;var a1=a9.slotSegHtml;var a7=a9.cellToDate;var aU=a9.dateToCell;var be=a9.rangeToSegments;var a5=aZ.formatDate;var bM;var b5;var bT;var bS;var bb;var aO;var aJ;var bP;var bI;var ca;var a4;var b6;var bX;var bm;var a2;var aP;var aW;var aQ;var bt;var bG;var bi;var aS;var bw;var bD;var bp;var a0;var b4;var bC;var bH;var bE;var b7;var bB;var bu;var bd={};var bn;var aK;var bg,aL;var aY;var bN;var by;var br;aI(b8.addClass("fc-agenda"));function aV(cd){bC=cd;bF();if(!bM){ba()}else{bL()}}function bF(){bn=bx("theme")?"ui":"fc";aK=bx("isRTL");bg=aF(bx("minTime"));aL=aF(bx("maxTime"));aY=bx("columnFormat");bN=bx("weekNumbers");by=bx("weekNumberTitle");if(bx("weekNumberCalculation")!="iso"){br="w"}else{br="W"}bp=bx("snapMinutes")||bx("slotMinutes")}function ba(){var ci=bn+"-widget-header";var cd=bn+"-widget-content";var ch;var ck;var cg;var cj;var cf;var ce=bx("slotMinutes")%15==0;bL();ca=aq("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(b8);if(bx("allDaySlot")){a4=aq("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ca);ch="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+ci+" fc-agenda-axis'>"+bx("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+ci+" fc-agenda-gutter'>&nbsp;</th></tr></table>";b6=aq(ch).appendTo(ca);bX=b6.find("tr");bj(bX.find("td"));ca.append("<div class='fc-agenda-divider "+ci+"'><div class='fc-agenda-divider-inner'/></div>")}else{a4=aq([])}bm=aq("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ca);a2=aq("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(bm);aP=aq("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a2);ch="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";ck=g();cj=j(M(ck),aL);j(ck,bg);bH=0;for(cg=0;ck<cj;cg++){cf=ck.getMinutes();ch+="<tr class='fc-slot"+cg+" "+(!cf?"":"fc-minor")+"'><th class='fc-agenda-axis "+ci+"'>"+((!ce||!cf)?a5(ck,bx("axisFormat")):"&nbsp;")+"</th><td class='"+cd+"'><div style='position:relative'>&nbsp;</div></td></tr>";j(ck,bx("slotMinutes"));bH++}ch+="</tbody></table>";aW=aq(ch).appendTo(a2);bW(aW.find("td"))}function bL(){var cd=b3();if(bM){bM.remove()}bM=aq(cd).appendTo(b8);b5=bM.find("thead");bT=b5.find("th").slice(1,-1);bS=bM.find("tbody");bb=bS.find("td").slice(0,-1);aO=bb.find("> div");aJ=bb.find(".fc-day-content > div");bP=bb.eq(0);bI=aO.eq(0);f(b5.add(b5.find("tr")));f(bS.add(bS.find("tr")))}function b3(){var cd="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+b1()+bU()+"</table>";return cd}function b1(){var cg=bn+"-widget-header";var ce;var cf="";var ch;var cd;cf+="<thead><tr>";if(bN){ce=a7(0,0);ch=a5(ce,br);if(aK){ch+=by}else{ch=by+ch}cf+="<th class='fc-agenda-axis fc-week-number "+cg+"'>"+aE(ch)+"</th>"}else{cf+="<th class='fc-agenda-axis "+cg+"'>&nbsp;</th>"}for(cd=0;cd<bC;cd++){ce=a7(0,cd);cf+="<th class='fc-"+O[ce.getDay()]+" fc-col"+cd+" "+cg+"'>"+aE(a5(ce,aY))+"</th>"}cf+="<th class='fc-agenda-gutter "+cg+"'>&nbsp;</th></tr></thead>";return cf}function bU(){var cf=bn+"-widget-header";var cg=bn+"-widget-content";var ci;var ck=e(new Date());var ch;var cl;var ce;var cd;var cj="";cj+="<tbody><tr><th class='fc-agenda-axis "+cf+"'>&nbsp;</th>";cl="";for(ch=0;ch<bC;ch++){ci=a7(0,ch);cd=["fc-col"+ch,"fc-"+O[ci.getDay()],cg];if(+ci==+ck){cd.push(bn+"-state-highlight","fc-today")}else{if(ci<ck){cd.push("fc-past")}else{cd.push("fc-future")}}ce="<td class='"+cd.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";cl+=ce}cj+=cl;cj+="<td class='fc-agenda-gutter "+cg+"'>&nbsp;</td></tr></tbody>";return cj}function bh(cd){if(cd===v){cd=bG}bG=cd;bd={};var cf=bS.position().top;var ce=bm.position().top;var cg=Math.min(cd-cf,aW.height()+ce+1);bI.height(cg-G(bP));ca.css("top",cf);bm.height(cg-ce-1);bD=aW.find("tr:first").height()+1;a0=bx("slotMinutes")/bp;b4=bD/a0}function bl(cg){bt=cg;bB.clear();bu.clear();var cd=b5.find("th:first");if(b6){cd=cd.add(b6.find("th:first"))}cd=cd.add(aW.find("th:first"));bi=0;ar(cd.width("").each(function(ch,ci){bi=Math.max(bi,aq(ci).outerWidth())}),bi);var ce=bM.find(".fc-agenda-gutter");if(b6){ce=ce.add(b6.find("th.fc-agenda-gutter"))}var cf=bm[0].clientWidth;bw=bm.width()-cf;if(bw){ar(ce,bw);ce.show().prev().removeClass("fc-last")}else{ce.hide().prev().addClass("fc-last")}aS=Math.floor((cf-bi)/bC);ar(bT.slice(0,-1),aS)}function bf(){var cg=g();var ce=M(cg);ce.setHours(bx("firstHour"));var cf=cb(cg,ce)+1;function cd(){bm.scrollTop(cf)}cd();setTimeout(cd,0)}function bR(){bf()}function bj(cd){cd.click(bK).mousedown(bv)}function bW(cd){cd.click(bK).mousedown(aX)}function bK(ch){if(!bx("selectable")){var cf=Math.min(bC-1,Math.floor((ch.pageX-bM.offset().left-bi)/aS));var ce=a7(0,cf);var ci=this.parentNode.className.match(/fc-slot(\d+)/);if(ci){var cg=parseInt(ci[1])*bx("slotMinutes");var cd=Math.floor(cg/60);ce.setHours(cd);ce.setMinutes(cg%60+bg);bA("dayClick",bb[cf],ce,false,ch)}else{bA("dayClick",bb[cf],ce,true,ch)}}}function aN(ch,ci,cd){if(cd){bE.build()}var ce=be(ch,ci);for(var cf=0;cf<ce.length;cf++){var cg=ce[cf];bj(a3(cg.row,cg.leftCol,cg.row,cg.rightCol))}}function a3(cg,ch,ce,cf){var cd=bE.rect(cg,ch,ce,cf,ca);return bo(cd,ca)}function a8(ch,cm){for(var cf=0;cf<bC;cf++){var ci=a7(0,cf);var ce=aB(M(ci),1);var cg=new Date(Math.max(ci,ch));var cl=new Date(Math.min(ce,cm));if(cg<cl){var ck=bE.rect(0,cf,0,cf,a2);var cj=cb(ci,cg);var cd=cb(ci,cl);ck.top=cj;ck.height=cd-cj;bW(bo(ck,a2))}}}bE=new N(function(cl,cj){var ch,ce,cd;bT.each(function(co,cn){ch=aq(cn);ce=ch.offset().left;if(co){cd[1]=ce}cd=[ce];cj[co]=cd});cd[1]=ce+ch.outerWidth();if(bx("allDaySlot")){ch=bX;ce=ch.offset().top;cl[0]=[ce,ce+ch.outerHeight()]}var ck=a2.offset().top;var cm=bm.offset().top;var cg=cm+bm.outerHeight();function ci(cn){return Math.max(cm,Math.min(cg,cn))}for(var cf=0;cf<bH*a0;cf++){cl.push([ci(ck+b4*cf),ci(ck+b4*(cf+1))])}});b7=new am(bE);bB=new m(function(cd){return aO.eq(cd)});bu=new m(function(cd){return aJ.eq(cd)});function b2(cd){return bB.left(cd)}function cc(cd){return bu.left(cd)}function bJ(cd){return bB.right(cd)}function aR(cd){return bu.right(cd)}function bs(cd){return bx("allDaySlot")&&!cd.row}function bO(cd){var cf=a7(0,cd.col);var ce=cd.row;if(bx("allDaySlot")){ce--}if(ce>=0){j(cf,bg+ce*bp)}return cf}function cb(ce,ci){ce=M(ce,true);if(ci<j(M(ce),bg)){return 0}if(ci>=j(M(ce),aL)){return aW.height()}var cd=bx("slotMinutes"),ch=ci.getHours()*60+ci.getMinutes()-bg,cg=Math.floor(ch/cd),cf=bd[cg];if(cf===v){cf=bd[cg]=aW.find("tr").eq(cg).find("td div")[0].offsetTop}return Math.max(0,Math.round(cf-1+bD*((ch%cd)/cd)))}function bz(cd){return bX}function bQ(cd){var ce=M(cd.start);if(cd.allDay){return ce}return j(ce,bx("defaultEventMinutes"))}function bk(cd,ce){if(ce){return M(cd)}return j(M(cd),bx("slotMinutes"))}function b0(cd,cf,ce){if(ce){if(bx("allDaySlot")){aN(cd,aB(M(cf),1),true)}}else{bZ(cd,cf)}}function bZ(cd,cj){var ch=bx("selectHelper");bE.build();if(ch){var cf=aU(cd).col;if(cf>=0&&cf<bC){var cg=bE.rect(0,cf,0,cf,a2);var ci=cb(cd,cd);var ce=cb(cd,cj);if(ce>ci){cg.top=ci;cg.height=ce-ci;cg.left+=2;cg.width-=5;if(aq.isFunction(ch)){var ck=ch(cd,cj);if(ck){cg.position="absolute";aQ=aq(ck).css(cg).appendTo(a2)}}else{cg.isStart=true;cg.isEnd=true;aQ=aq(a1({title:"",start:cd,end:cj,className:["fc-select-helper"],editable:false},cg));aQ.css("opacity",bx("dragOpacity"))}if(aQ){bW(aQ);a2.append(aQ);ar(aQ,cg.width,true);W(aQ,cg.height,true)}}}}else{a8(cd,cj)}}function bV(){aM();if(aQ){aQ.remove();aQ=null}}function aX(cd){if(cd.which==1&&bx("selectable")){bY(cd);var ce;b7.start(function(cg,cf){bV();if(cg&&cg.col==cf.col&&!bs(cg)){var ci=bO(cf);var ch=bO(cg);ce=[ci,j(M(ci),bp),ch,j(M(ch),bp)].sort(a);bZ(ce[0],ce[3])}else{ce=null}},cd);aq(document).one("mouseup",function(cf){b7.stop();if(ce){if(+ce[0]==+ce[1]){a6(ce[0],false,cf)}bq(ce[0],ce[3],false,cf)}})}}function a6(cd,cf,ce){bA("dayClick",bb[aU(cd).col],cd,cf,ce)}function aT(cf,cd,ce){b7.start(function(cg){aM();if(cg){if(bs(cg)){a3(cg.row,cg.col,cg.row,cg.col)}else{var ci=bO(cg);var ch=j(M(ci),bx("defaultEventMinutes"));a8(ci,ch)}}},cd)}function b9(cg,ce,cf){var cd=b7.stop();aM();if(cd){bA("drop",cg,bO(cd),bs(cd),ce,cf)}}}function S(){var bi=this;bi.renderEvents=aO;bi.clearEvents=a3;bi.slotSegHtml=a4;V.call(bi);var aY=bi.opt;var a5=bi.trigger;var aM=bi.isEventDraggable;var bn=bi.isEventResizable;var bo=bi.eventEnd;var a8=bi.eventElementHandlers;var be=bi.setHeight;var aN=bi.getDaySegmentContainer;var bq=bi.getSlotSegmentContainer;var aL=bi.getHoverListener;var aK=bi.getMaxMinute;var a9=bi.getMinMinute;var aR=bi.timePosition;var bb=bi.getIsCellAllDay;var bd=bi.colContentLeft;var ba=bi.colContentRight;var aJ=bi.cellToDate;var bf=bi.getColCnt;var aZ=bi.getColWidth;var bh=bi.getSnapHeight;var aT=bi.getSnapMinutes;var aV=bi.getSlotContainer;var aW=bi.reportEventElement;var aP=bi.showEvents;var aX=bi.hideEvents;var bl=bi.eventDrop;var a1=bi.eventResize;var a6=bi.renderDayOverlay;var aQ=bi.clearOverlays;var br=bi.renderDayEvents;var bj=bi.calendar;var bg=bj.formatDate;var a0=bj.formatDates;bi.draggableDayEvent=aU;function aO(bw,bu){var bv,bt=bw.length,bx=[],bs=[];for(bv=0;bv<bt;bv++){if(bw[bv].allDay){bx.push(bw[bv])}else{bs.push(bw[bv])}}if(aY("allDaySlot")){br(bx,bu);be()}aS(a2(bs),bu)}function a3(){aN().empty();bq().empty()}function a2(bC){var bA=bf(),by=a9(),bt=aK(),bz,bw=aq.map(bC,bp),bx,bv,bu,bB,bs=[];for(bx=0;bx<bA;bx++){bz=aJ(0,bx);j(bz,by);bB=bc(bC,bw,bz,j(M(bz),bt-by));bB=ah(bB);for(bv=0;bv<bB.length;bv++){bu=bB[bv];bu.col=bx;bs.push(bu)}}return bs}function bc(bE,by,bu,bx){var bv=[],bz,bB=bE.length,bt,bC,bA,bD,bF,bs,bw;for(bz=0;bz<bB;bz++){bt=bE[bz];bC=bt.start;bA=by[bz];if(bA>bu&&bC<bx){if(bC<bu){bD=M(bu);bs=false}else{bD=bC;bs=true}if(bA>bx){bF=M(bx);bw=false}else{bF=bA;bw=true}bv.push({event:bt,start:bD,end:bF,isStart:bs,isEnd:bw})}}return bv.sort(x)}function bp(bs){if(bs.end){return M(bs.end)}else{return j(M(bs.start),aY("defaultEventMinutes"))}}function aS(bD,bE){var bI,bL=bD.length,bK,bG,bA,bw,bx,bz,bu,bF,bs,bM,by="",bN,bJ,bv,bC,bB,bH=bq(),bt=aY("isRTL");for(bI=0;bI<bL;bI++){bK=bD[bI];bG=bK.event;bA=aR(bK.start,bK.start);bw=aR(bK.start,bK.end);bx=bd(bK.col);bz=ba(bK.col);bu=bz-bx;bz-=bu*0.025;bu=bz-bx;bF=bu*(bK.forwardCoord-bK.backwardCoord);if(aY("slotEventOverlap")){bF=Math.max((bF-(20/2))*2,bF)}if(bt){bM=bz-bK.backwardCoord*bu;bs=bM-bF}else{bs=bx+bK.backwardCoord*bu;bM=bs+bF}bs=Math.max(bs,bx);bM=Math.min(bM,bz);bF=bM-bs;bK.top=bA;bK.left=bs;bK.outerWidth=bF;bK.outerHeight=bw-bA;by+=a4(bG,bK)}bH[0].innerHTML=by;bN=bH.children();for(bI=0;bI<bL;bI++){bK=bD[bI];bG=bK.event;bJ=aq(bN[bI]);bv=a5("eventRender",bG,bG,bJ);if(bv===false){bJ.remove()}else{if(bv&&bv!==true){bJ.remove();bJ=aq(bv).css({position:"absolute",top:bK.top,left:bK.left}).appendTo(bH)}bK.element=bJ;if(bG._id===bE){bk(bG,bJ,bK)}else{bJ[0]._fci=bI}aW(bG,bJ)}}u(bH,bD,bk);for(bI=0;bI<bL;bI++){bK=bD[bI];if(bJ=bK.element){bK.vsides=G(bJ,true);bK.hsides=i(bJ,true);bC=bJ.find(".fc-event-title");if(bC.length){bK.contentTop=bC[0].offsetTop}}}for(bI=0;bI<bL;bI++){bK=bD[bI];if(bJ=bK.element){bJ[0].style.width=Math.max(0,bK.outerWidth-bK.hsides)+"px";bB=Math.max(0,bK.outerHeight-bK.vsides);bJ[0].style.height=bB+"px";bG=bK.event;if(bK.contentTop!==v&&bB-bK.contentTop<10){bJ.find("div.fc-event-time").text(bg(bG.start,aY("timeFormat"))+" - "+bG.title);bJ.find("div.fc-event-title").remove()}a5("eventAfterRender",bG,bG,bJ)}}}function a4(bt,by){var bv=Date.parse(bt.start);var bx=Date.parse(bt.end);var bu,bD;if(typeof bt.eventStart!=="undefined"&&typeof bt.eventEnd!=="undefined"){var bB=Date.parse(bt.eventStart);var bA=Date.parse(bt.eventEnd);bu=((bv-bB)/(bv-bx))*100;bD=((bA-bx)/(bv-bx))*100}else{bu=0;bD=0}var bz="<";var bs=bt.url;var bC=P(bt,aY);var bw=["fc-event","fc-event-vert"];if(aM(bt)){bw.push("fc-event-draggable")}if(by.isStart){bw.push("fc-event-start")}if(by.isEnd){bw.push("fc-event-end")}bw=bw.concat(bt.className);if(bt.source){bw=bw.concat(bt.source.className||[])}if(bs){bz+="a href='"+aE(bt.url)+"'"}else{bz+="div"}bz+=" class='"+bw.join(" ")+"' style='position:absolute;top:"+by.top+"px;left:"+by.left+"px;"+bC+"'><div class='fc-event-inner'><div class='fc-event-time'>"+aE(a0(bt.start,bt.end,aY("timeFormat")))+"</div><div class='fc-event-title'>"+aE(bt.title||"")+"</div></div><div class='fc-event-bg'><div class='event-bg-section' style='height:"+bu+"%'></div><div style='height:"+(100-bu-bD)+"%'></div><div class='event-bg-section' style='height:"+bD+"%'></div></div>";if(by.isEnd&&bn(bt)){bz+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"}bz+="</"+(bs?"a":"div")+">";return bz}function bk(bu,bt,bs){var bv=bt.find("div.fc-event-time");if(aM(bu)){a7(bu,bt,bv)}if(bs.isEnd&&bn(bu)){bm(bu,bt,bv)}a8(bu,bt)}function aU(bt,bC,bx){var bs=bx.isStart;var bD;var bB;var bF=true;var bw;var bv=aL();var by=aZ();var bu=bh();var bE=aT();var bA=a9();bC.draggable({opacity:aY("dragOpacity","month"),revertDuration:aY("dragRevertDuration"),start:function(bG,bH){a5("eventDragStart",bC,bt,bG,bH);aX(bt,bC);bD=bC.width();bv.start(function(bJ,bI){aQ();if(bJ){bB=false;var bL=aJ(0,bI.col);var bK=aJ(0,bJ.col);bw=ay(bK,bL);if(!bJ.row){a6(aB(M(bt.start),bw),aB(al(bt),bw));bz()}else{if(bs){if(bF){bC.width(by-10);W(bC,bu*Math.round((bt.end?((bt.end-bt.start)/R):aY("defaultEventMinutes"))/bE));bC.draggable("option","grid",[by,1]);bF=false}}else{bB=true}}bB=bB||(bF&&!bw)}else{bz();bB=true}bC.draggable("option","revert",bB)},bG,"drag")},stop:function(bH,bI){bv.stop();aQ();a5("eventDragStop",bC,bt,bH,bI);if(bB){bz();bC.css("filter","");aP(bt,bC)}else{var bG=0;if(!bF){bG=Math.round((bC.offset().top-aV().offset().top)/bu)*bE+bA-(bt.start.getHours()*60+bt.start.getMinutes())}bl(this,bt,bw,bG,bF,bH,bI)}}});function bz(){if(!bF){bC.width(bD).height("").draggable("option","grid",null);bF=true}}}function a7(bF,bH,bu){var bA=bi.getCoordinateGrid();var bD=bf();var bM=aZ();var bE=bh();var bz=aT();var bL;var bJ;var bK,bC;var bs,bv;var bt,by;var bw;var bG,bx;bH.draggable({scroll:false,grid:[bM,bE],axis:bD==1?"y":false,opacity:aY("dragOpacity"),revertDuration:aY("dragRevertDuration"),start:function(bN,bO){a5("eventDragStart",bH,bF,bN,bO);aX(bF,bH);bA.build();bL=bH.position();bJ=bA.cell(bN.pageX,bN.pageY);bK=bC=true;bs=bv=bb(bJ);bt=by=0;bw=0;bG=bx=0},drag:function(bR,bS){var bN=bA.cell(bR.pageX,bR.pageY);bK=!!bN;if(bK){bs=bb(bN);bt=Math.round((bS.position.left-bL.left)/bM);if(bt!=by){var bQ=aJ(0,bJ.col);var bP=bJ.col+bt;bP=Math.max(0,bP);bP=Math.min(bD-1,bP);var bO=aJ(0,bP);bw=ay(bO,bQ)}if(!bs){bG=Math.round((bS.position.top-bL.top)/bE)*bz}}if(bK!=bC||bs!=bv||bt!=by||bG!=bx){bI();bC=bK;bv=bs;by=bt;bx=bG}bH.draggable("option","revert",!bK)},stop:function(bN,bO){aQ();a5("eventDragStop",bH,bF,bN,bO);if(bK&&(bs||bw||bG)){bl(this,bF,bw,bs?0:bG,bs,bN,bO)}else{bK=true;bs=false;bt=0;bw=0;bG=0;bI();bH.css("filter","");bH.css(bL);aP(bF,bH)}}});function bI(){aQ();if(bK){if(bs){bu.hide();bH.draggable("option","grid",null);a6(aB(M(bF.start),bw),aB(al(bF),bw))}else{bB(bG);bu.css("display","");bH.draggable("option","grid",[bM,bE])}}}function bB(bO){var bN=j(M(bF.start),bO);var bP;if(bF.end){bP=j(M(bF.end),bO)}bu.text(a0(bN,bP,aY("timeFormat")))}}function bm(bw,bu,bx){var bv,bs;var by=bh();var bt=aT();bu.resizable({handles:{s:".ui-resizable-handle"},grid:by,start:function(bz,bA){bv=bs=0;aX(bw,bu);a5("eventResizeStart",this,bw,bz,bA)},resize:function(bz,bA){bv=Math.round((Math.max(by,bu.height())-bA.originalSize.height)/by);if(bv!=bs){bx.text(a0(bw.start,(!bv&&!bw.end)?null:j(bo(bw),bt*bv),aY("timeFormat")));bs=bv}},stop:function(bz,bA){a5("eventResizeStop",this,bw,bz,bA);if(bv){a1(this,bw,0,bt*bv,bz,bA)}else{aP(bw,bu)}}})}}function ah(aJ){var aL=E(aJ);var aM=aL[0];var aK;U(aL);if(aM){for(aK=0;aK<aM.length;aK++){Z(aM[aK])}for(aK=0;aK<aM.length;aK++){L(aM[aK],0,0)}}return B(aL)}function E(aK){var aN=[];var aM,aJ;var aL;for(aM=0;aM<aK.length;aM++){aJ=aK[aM];for(aL=0;aL<aN.length;aL++){if(!aH(aJ,aN[aL]).length){break}}(aN[aL]||(aN[aL]=[])).push(aJ)}return aN}function U(aN){var aM,aO;var aL,aJ;var aK;for(aM=0;aM<aN.length;aM++){aO=aN[aM];for(aL=0;aL<aO.length;aL++){aJ=aO[aL];aJ.forwardSegs=[];for(aK=aM+1;aK<aN.length;aK++){aH(aJ,aN[aK],aJ.forwardSegs)}}}}function Z(aK){var aJ=aK.forwardSegs;var aN=0;var aM,aL;if(aK.forwardPressure===v){for(aM=0;aM<aJ.length;aM++){aL=aJ[aM];Z(aL);aN=Math.max(aN,1+aL.forwardPressure)}aK.forwardPressure=aN}}function L(aK,aM,aN){var aJ=aK.forwardSegs;var aL;if(aK.forwardCoord===v){if(!aJ.length){aK.forwardCoord=1}else{aJ.sort(aw);L(aJ[0],aM+1,aN);aK.forwardCoord=aJ[0].backwardCoord}aK.backwardCoord=aK.forwardCoord-(aK.forwardCoord-aN)/(aM+1);for(aL=0;aL<aJ.length;aL++){L(aJ[aL],0,aK.forwardCoord)}}}function B(aM){var aJ=[];var aL,aN;var aK;for(aL=0;aL<aM.length;aL++){aN=aM[aL];for(aK=0;aK<aN.length;aK++){aJ.push(aN[aK])}}return aJ}function aH(aJ,aM,aL){aL=aL||[];for(var aK=0;aK<aM.length;aK++){if(d(aJ,aM[aK])){aL.push(aM[aK])}}return aL}function d(aK,aJ){return aK.end>aJ.start&&aK.start<aJ.end}function aw(aK,aJ){return aJ.forwardPressure-aK.forwardPressure||(aK.backwardCoord||0)-(aJ.backwardCoord||0)||x(aK,aJ)}function x(aK,aJ){return aK.start-aJ.start||(aJ.end-aJ.start)-(aK.end-aK.start)||(aK.event.title||"").localeCompare(aJ.event.title)}function aC(aY,bi,aV){var bh=this;bh.element=aY;bh.calendar=bi;bh.name=aV;bh.opt=a3;bh.trigger=bb;bh.isEventDraggable=aO;bh.isEventResizable=bn;bh.setEventData=bk;bh.clearEventData=aN;bh.eventEnd=bo;bh.reportEventElement=a1;bh.triggerEventDestroy=ba;bh.eventElementHandlers=bd;bh.showEvents=aQ;bh.hideEvents=a2;bh.eventDrop=bl;bh.eventResize=a6;var bq=bh.defaultEventEnd;var bc=bi.normalizeEvent;var bm=bi.reportEventChange;var a0={};var aU={};var bp=[];var a8=bi.options;function a3(bv,bt){var bu=a8[bv];if(aq.isPlainObject(bu)){return F(bu,bt||aV)}return bu}function bb(bt,bu){return bi.trigger.apply(bi,[bt,bu||bh].concat(Array.prototype.slice.call(arguments,2),[bh]))}function aO(bt){var bu=bt.source||{};return aG(bt.startEditable,bu.startEditable,a3("eventStartEditable"),bt.editable,bu.editable,a3("editable"))&&!a3("disableDragging")}function bn(bt){var bu=bt.source||{};return aG(bt.durationEditable,bu.durationEditable,a3("eventDurationEditable"),bt.editable,bu.editable,a3("editable"))&&!a3("disableResizing")}function bk(bv){a0={};var bu,bt=bv.length,bw;for(bu=0;bu<bt;bu++){bw=bv[bu];if(a0[bw._id]){a0[bw._id].push(bw)}else{a0[bw._id]=[bw]}}}function aN(){a0={};aU={};bp=[]}function bo(bt){return bt.end?M(bt.end):bq(bt)}function a1(bu,bt){bp.push({event:bu,element:bt});if(aU[bu._id]){aU[bu._id].push(bt)}else{aU[bu._id]=[bt]}}function ba(){aq.each(bp,function(bt,bu){bh.trigger("eventDestroy",bu.event,bu.event,bu.element)})}function bd(bu,bt){bt.click(function(bv){if(!bt.hasClass("ui-draggable-dragging")&&!bt.hasClass("ui-resizable-resizing")){return bb("eventClick",this,bu,bv)}}).bind("contextmenu",function(bv){if(!bt.hasClass("ui-draggable-dragging")&&!bt.hasClass("ui-resizable-resizing")){bb("eventClick",this,bu,bv);return bb("eventRightClick",this,bu,bv)}}).hover(function(bv){bb("eventMouseover",this,bu,bv)},function(bv){bb("eventMouseout",this,bu,bv)})}function aQ(bu,bt){aZ(bu,bt,"show")}function a2(bu,bt){aZ(bu,bt,"hide")}function aZ(bw,bv,by){var bx=aU[bw._id],bu,bt=bx.length;for(bu=0;bu<bt;bu++){if(!bv||bx[bu][0]!=bv[0]){bx[bu][by]()}}}function bl(bw,bu,bv,bx,bA,bz,by){var bB=bu.allDay;var bt=bu._id;a4(a0[bt],bv,bx,bA);bb("eventDrop",bw,bu,bv,bx,bA,function(){a4(a0[bt],-bv,-bx,bB);bm(bt)},bz,by);bm(bt)}function a6(bz,bx,bu,bt,bw,by){var bv=bx._id;aW(a0[bv],bu,bt);bb("eventResize",bz,bx,bu,bt,function(){aW(a0[bv],-bu,-bt);bm(bv)},bw,by);bm(bv)}function a4(bx,bv,bu,by){bu=bu||0;for(var bz,bt=bx.length,bw=0;bw<bt;bw++){bz=bx[bw];if(by!==v){bz.allDay=by}j(aB(bz.start,bv,true),bu);if(bz.end){bz.end=j(aB(bz.end,bv,true),bu)}bc(bz,a8)}}function aW(bx,bv,bu){bu=bu||0;for(var by,bt=bx.length,bw=0;bw<bt;bw++){by=bx[bw];by.end=j(aB(bo(by),bv,true),bu);bc(by,a8)}}bh.isHiddenDay=aS;bh.skipHiddenDays=aP;bh.getCellsPerWeek=bf;bh.dateToCell=bj;bh.dateToDayOffset=a7;bh.dayOffsetToCellOffset=aL;bh.cellOffsetToCell=aX;bh.cellToDate=aM;bh.cellToCellOffset=aJ;bh.cellOffsetToDayOffset=a9;bh.dayOffsetToDate=bs;bh.rangeToSegments=be;var a5=a3("hiddenDays")||[];var aK=[];var br;var aR=[];var aT=[];var bg=a3("isRTL");(function(){if(a3("weekends")===false){a5.push(0,6)}for(var bu=0,bt=0;bu<7;bu++){aR[bu]=bt;aK[bu]=aq.inArray(bu,a5)!=-1;if(!aK[bu]){aT[bt]=bu;bt++}}br=bt;if(!br){throw"invalid hiddenDays"}})();function aS(bt){if(typeof bt=="object"){bt=bt.getDay()}return aK[bt]}function bf(){return br}function aP(bu,bv,bt){bv=bv||1;while(aK[(bu.getDay()+(bt?bv:0)+7)%7]){aB(bu,bv)}}function aM(){var bv=aJ.apply(null,arguments);var bt=a9(bv);var bu=bs(bt);return bu}function aJ(by,bw){var bv=bh.getColCnt();var bu=bg?-1:1;var bt=bg?bv-1:0;if(typeof by=="object"){bw=by.col;by=by.row}var bx=by*bv+(bw*bu+bt);return bx}function a9(bu){var bt=bh.visStart.getDay();bu+=aR[bt];return Math.floor(bu/br)*7+aT[(bu%br+br)%br]-bt}function bs(bt){var bu=M(bh.visStart);aB(bu,bt);return bu}function bj(bv){var bu=a7(bv);var bw=aL(bu);var bt=aX(bw);return bt}function a7(bt){return ay(bt,bh.visStart)}function aL(bu){var bt=bh.visStart.getDay();bu+=bt;return Math.floor(bu/7)*br+aR[(bu%7+7)%7]-aR[bt]}function aX(by){var bw=bh.getColCnt();var bu=bg?-1:1;var bt=bg?bw-1:0;var bx=Math.floor(by/bw);var bv=((by%bw+bw)%bw)*bu+bt;return{row:bx,col:bv}}function be(bu,bJ){var bx=bh.getRowCnt();var bH=bh.getColCnt();var bI=[];var bL=a7(bu);var bG=a7(bJ);var bK=aL(bL);var by=aL(bG)-1;for(var bz=0;bz<bx;bz++){var bv=bz*bH;var bD=bv+bH-1;var bE=Math.max(bK,bv);var bw=Math.min(by,bD);if(bE<=bw){var bt=aX(bE);var bF=aX(bw);var bC=[bt.col,bF.col].sort();var bA=a9(bE)==bL;var bB=a9(bw)+1==bG;bI.push({row:bz,leftCol:bC[0],rightCol:bC[1],isStart:bA,isEnd:bB})}}return bI}}function V(){var bq=this;bq.renderDayEvents=bx;bq.draggableDayEvent=aZ;bq.resizableDayEvent=bk;var a4=bq.opt;var bh=bq.trigger;var aR=bq.isEventDraggable;var bt=bq.isEventResizable;var bu=bq.eventEnd;var a2=bq.reportEventElement;var bj=bq.eventElementHandlers;var aU=bq.showEvents;var a3=bq.hideEvents;var bs=bq.eventDrop;var a8=bq.eventResize;var by=bq.getRowCnt;var bp=bq.getColCnt;var a6=bq.getColWidth;var aY=bq.allDayRow;var bw=bq.colLeft;var a0=bq.colRight;var bo=bq.colContentLeft;var bm=bq.colContentRight;var br=bq.dateToCell;var aS=bq.getDaySegmentContainer;var a7=bq.calendar.formatDates;var bi=bq.renderDayOverlay;var aV=bq.clearOverlays;var aL=bq.clearSelection;var aQ=bq.getHoverListener;var bl=bq.rangeToSegments;var aO=bq.cellToDate;var aK=bq.cellToCellOffset;var bf=bq.cellOffsetToDayOffset;var ba=bq.dateToDayOffset;var aN=bq.dayOffsetToCellOffset;function bx(bB,bA){var bz=aX(bB,false,true);ab(bz,function(bD,bC){a2(bD.event,bC)});aW(bz,bA);ab(bz,function(bD,bC){bh("eventAfterRender",bD.event,bD.event,bC)})}function bb(bA,bD,bC){var bz=aX([bA],true,false);var bB=[];ab(bz,function(bF,bE){if(bF.row===bD){bE.css("top",bC)}bB.push(bE[0])});return bB}function aX(bC,bG,bE){var bD=aS();var bB=bG?aq("<div/>"):bD;var bz=a1(bC);var bA;var bF;bv(bz);bA=a9(bz);bB[0].innerHTML=bA;bF=bB.children();if(bG){bD.append(bF)}aT(bz,bF);ab(bz,function(bI,bH){bI.hsides=i(bH,true)});ab(bz,function(bI,bH){bH.width(Math.max(0,bI.outerWidth-bI.hsides))});ab(bz,function(bI,bH){bI.outerHeight=bH.outerHeight(true)});aP(bz,bE);return bz}function a1(bB){var bz=[];for(var bA=0;bA<bB.length;bA++){var bC=bg(bB[bA]);bz.push.apply(bz,bC)}return bz}function bg(bC){var bz=bC.start;var bD=al(bC);var bA=bl(bz,bD);for(var bB=0;bB<bA.length;bB++){bA[bB].event=bC}return bA}function bv(bA){var bD=a4("isRTL");for(var bC=0;bC<bA.length;bC++){var bE=bA[bC];var bF=(bD?bE.isEnd:bE.isStart)?bo:bw;var bz=(bD?bE.isStart:bE.isEnd)?bm:a0;var bG=bF(bE.leftCol);var bB=bz(bE.rightCol);bE.left=bG;bE.outerWidth=bB-bG}}function a9(bz){var bB="";for(var bA=0;bA<bz.length;bA++){bB+=a5(bz[bA])}return bB}function a5(bE){var bC="";var bB=a4("isRTL");var bD=bE.event;var bA=bD.url;var bF=["fc-event","fc-event-hori"];if(aR(bD)){bF.push("fc-event-draggable")}if(bE.isStart){bF.push("fc-event-start")}if(bE.isEnd){bF.push("fc-event-end")}bF=bF.concat(bD.className);if(bD.source){bF=bF.concat(bD.source.className||[])}var bz=P(bD,a4);if(bA){bC+="<a href='"+aE(bA)+"'"}else{bC+="<div"}bC+=" class='"+bF.join(" ")+"' style='position:absolute;left:"+bE.left+"px;"+bz+"'><div class='fc-event-inner'>";if(!bD.allDay&&bE.isStart){bC+="<span class='fc-event-time'>"+aE(a7(bD.start,bD.end,a4("timeFormat")))+"</span>"}bC+="<span class='fc-event-title'>"+aE(bD.title||"")+"</span></div>";if(bE.isEnd&&bt(bD)){bC+="<div class='ui-resizable-handle ui-resizable-"+(bB?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"}bC+="</"+(bA?"a":"div")+">";return bC}function aT(bA,bF){for(var bC=0;bC<bA.length;bC++){var bE=bA[bC];var bD=bE.event;var bB=bF.eq(bC);var bz=bh("eventRender",bD,bD,bB);if(bz===false){bB.remove()}else{if(bz&&bz!==true){bz=aq(bz).css({position:"absolute",left:bE.left});bB.replaceWith(bz);bB=bz}bE.element=bB}}}function aP(bB,bD){var bE=aJ(bB);var bz=bn();var bA=[];if(bD){for(var bC=0;bC<bz.length;bC++){bz[bC].height(bE[bC])}}for(var bC=0;bC<bz.length;bC++){bA.push(bz[bC].position().top)}ab(bB,function(bG,bF){bF.css("top",bA[bG.row]+bG.top)})}function aJ(bB){var bD=by();var bI=bp();var bJ=[];var bz=be(bB);for(var bH=0;bH<bD;bH++){var bG=bz[bH];var bF=[];for(var bE=0;bE<bI;bE++){bF.push(0)}for(var bA=0;bA<bG.length;bA++){var bC=bG[bA];bC.top=ap(bF.slice(bC.leftCol,bC.rightCol+1));for(var bE=bC.leftCol;bE<=bC.rightCol;bE++){bF[bE]=bC.top+bC.outerHeight}}bJ.push(ap(bF))}return bJ}function be(bA){var bE=by();var bD=[];var bz;var bC;var bB;for(bz=0;bz<bA.length;bz++){bC=bA[bz];bB=bC.row;if(bC.element){if(bD[bB]){bD[bB].push(bC)}else{bD[bB]=[bC]}}}for(bB=0;bB<bE;bB++){bD[bB]=aM(bD[bB]||[])}return bD}function aM(bA){var bC=[];var bz=bd(bA);for(var bB=0;bB<bz.length;bB++){bC.push.apply(bC,bz[bB])}return bC}function bd(bB){bB.sort(at);var bA=[];for(var bC=0;bC<bB.length;bC++){var bD=bB[bC];for(var bz=0;bz<bA.length;bz++){if(!b(bD,bA[bz])){break}}if(bA[bz]){bA[bz].push(bD)}else{bA[bz]=[bD]}}return bA}function bn(){var bz;var bB=by();var bA=[];for(bz=0;bz<bB;bz++){bA[bz]=aY(bz).find("div.fc-day-content > div")}return bA}function aW(bA,bz){var bB=aS();ab(bA,function(bF,bD,bC){var bE=bF.event;if(bE._id===bz){bc(bE,bD,bF)}else{bD[0]._fci=bC}});u(bB,bA,bc)}function bc(bB,bz,bA){if(aR(bB)){bq.draggableDayEvent(bB,bz,bA)}if(bA.isEnd&&bt(bB)){bq.resizableDayEvent(bB,bz,bA)}bj(bB,bz)}function aZ(bC,bB){var bA=aQ();var bz;bB.draggable({delay:50,opacity:a4("dragOpacity"),revertDuration:a4("dragRevertDuration"),start:function(bD,bE){bh("eventDragStart",bB,bC,bD,bE);a3(bC,bB);bA.start(function(bG,bF,bJ,bK){bB.draggable("option","revert",!bG||!bJ&&!bK);aV();if(bG){var bI=aO(bF);var bH=aO(bG);bz=ay(bH,bI);bi(aB(M(bC.start),bz),aB(al(bC),bz))}else{bz=0}},bD,"drag")},stop:function(bD,bE){bA.stop();aV();bh("eventDragStop",bB,bC,bD,bE);if(bz){bs(this,bC,bz,0,bC.allDay,bD,bE)}else{bB.css("filter","");aU(bC,bB)}}})}function bk(bC,bA,bB){var bz=a4("isRTL");var bE=bz?"w":"e";var bD=bA.find(".ui-resizable-"+bE);var bF=false;aI(bA);bA.mousedown(function(bG){bG.preventDefault()}).click(function(bG){if(bF){bG.preventDefault();bG.stopImmediatePropagation()}});bD.mousedown(function(bO){if(bO.which!=1){return}bF=true;var bI=aQ();var bM=by();var bP=bp();var bH=bA.css("top");var bK;var bG;var bN=aq.extend({},bC);var bJ=aN(ba(bC.start));aL();aq("body").css("cursor",bE+"-resize").one("mouseup",bL);bh("eventResizeStart",this,bC,bO);bI.start(function(bR,bQ){if(bR){var bU=aK(bQ);var bT=aK(bR);bT=Math.max(bT,bJ);bK=bf(bT)-bf(bU);if(bK){bN.end=aB(bu(bC),bK,true);var bS=bG;bG=bb(bN,bB.row,bH);bG=aq(bG);bG.find("*").css("cursor",bE+"-resize");if(bS){bS.remove()}a3(bC)}else{if(bG){aU(bC);bG.remove();bG=null}}aV();bi(bC.start,aB(al(bC),bK))}},bO);function bL(bQ){bh("eventResizeStop",this,bC,bQ);aq("body").css("cursor","");bI.stop();aV();if(bK){a8(this,bC,bK,0,bQ)}setTimeout(function(){bF=false},0)}})}}function b(aK,aM){for(var aJ=0;aJ<aM.length;aJ++){var aL=aM[aJ];if(aL.leftCol<=aK.rightCol&&aL.rightCol>=aK.leftCol){return true}}return false}function ab(aJ,aN){for(var aL=0;aL<aJ.length;aL++){var aM=aJ[aL];var aK=aM.element;if(aK){aN(aM,aK,aL)}}}function at(aK,aJ){return(aJ.rightCol-aJ.leftCol)-(aK.rightCol-aK.leftCol)||aJ.event.allDay-aK.event.allDay||aK.event.start-aJ.event.start||(aK.event.title||"").localeCompare(aJ.event.title)}function ak(){var aT=this;aT.select=aR;aT.unselect=aN;aT.reportSelection=aJ;aT.daySelectionMousedown=aQ;var aL=aT.opt;var aM=aT.trigger;var aO=aT.defaultSelectionEnd;var aK=aT.renderSelection;var aS=aT.clearSelection;var aP=false;if(aL("selectable")&&aL("unselectAuto")){aq(document).mousedown(function(aU){var aV=aL("unselectCancel");if(aV){if(aq(aU.target).parents(aV).length){return}}aN(aU)})}function aR(aU,aW,aV){aN();if(!aW){aW=aO(aU,aV)}aK(aU,aW,aV);aJ(aU,aW,aV)}function aN(aU){if(aP){aP=false;aS();aM("unselect",null,aU)}}function aJ(aU,aX,aW,aV){aP=true;aM("select",null,aU,aX,aW,aV)}function aQ(aY){var aW=aT.cellToDate;var aV=aT.getIsCellAllDay;var aU=aT.getHoverListener();var aZ=aT.reportDayClick;if(aY.which==1&&aL("selectable")){aN(aY);var aX=this;var a0;aU.start(function(a2,a1){aS();if(a2&&aV(a2)){a0=[aW(a1),aW(a2)].sort(a);aK(a0[0],a0[1],true)}else{a0=null}},aY);aq(document).one("mouseup",function(a1){aU.stop();if(a0){if(+a0[0]==+a0[1]){aZ(a0[0],true,a1)}aJ(a0[0],a0[1],true,a1)}})}}}function c(){var aM=this;aM.renderOverlay=aK;aM.clearOverlays=aJ;var aL=[];var aN=[];function aK(aP,aO){var aQ=aN.shift();if(!aQ){aQ=aq("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")}if(aQ[0].parentNode!=aO[0]){aQ.appendTo(aO)}aL.push(aQ.css(aP).show());return aQ}function aJ(){var aO;while(aO=aL.shift()){aN.push(aO.hide().unbind())}}}function N(aJ){var aK=this;var aL;var aM;aK.build=function(){aL=[];aM=[];aJ(aL,aM)};aK.cell=function(aN,aT){var aS=aL.length;var aO=aM.length;var aP,aQ=-1,aR=-1;for(aP=0;aP<aS;aP++){if(aT>=aL[aP][0]&&aT<aL[aP][1]){aQ=aP;break}}for(aP=0;aP<aO;aP++){if(aN>=aM[aP][0]&&aN<aM[aP][1]){aR=aP;break}}return(aQ>=0&&aR>=0)?{row:aQ,col:aR}:null};aK.rect=function(aQ,aS,aO,aP,aR){var aN=aR.offset();return{top:aL[aQ][0]-aN.top,left:aM[aS][0]-aN.left,width:aM[aP][1]-aM[aS][0],height:aL[aO][1]-aL[aQ][0]}}}function am(aO){var aM=this;var aN;var aP;var aK;var aJ;aM.start=function(aQ,aR,aS){aP=aQ;aK=aJ=null;aO.build();aL(aR);aN=aS||"mousemove";aq(document).bind(aN,aL)};function aL(aQ){D(aQ);var aR=aO.cell(aQ.pageX,aQ.pageY);if(!aR!=!aJ||aR&&(aR.row!=aJ.row||aR.col!=aJ.col)){if(aR){if(!aK){aK=aR}aP(aR,aK,aR.row-aK.row,aR.col-aK.col)}else{aP(aR,aK)}aJ=aR}}aM.stop=function(){aq(document).unbind(aN,aL);return aJ}}function D(aJ){if(aJ.pageX===v){aJ.pageX=aJ.originalEvent.pageX;aJ.pageY=aJ.originalEvent.pageY}}function m(aK){var aJ=this,aL={},aO={},aN={};function aM(aP){return aL[aP]=aL[aP]||aK(aP)}aJ.left=function(aP){return aO[aP]=aO[aP]===v?aM(aP).position().left:aO[aP]};aJ.right=function(aP){return aN[aP]=aN[aP]===v?aJ.left(aP)+aM(aP).width():aN[aP]};aJ.clear=function(){aL={};aO={};aN={}}}})(jQuery);