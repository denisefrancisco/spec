/*! spec 0.1.2 10-03-2014 */
$(function(){var showInfo=function(message){$("div.progress").hide(),$("strong.message").text(message),$("div.alert").show(),$(".alert-info").hide()};$('input[type="submit"]').on("click",function(evt){if(""==$("#myFile").val())return!1;evt.preventDefault(),$("div.progress").show();var formData=new FormData,file=document.getElementById("myFile").files[0];formData.append("myFile",file);var xhr=new XMLHttpRequest;xhr.open("post","/fileUpload",!0),xhr.upload.onprogress=function(e){if(e.lengthComputable){var percentage=e.loaded/e.total*100;$("div.progress div.bar").css("width",percentage+"%")}},xhr.onerror=function(){showInfo("An error occurred while submitting the form. Maybe your file is too big")},xhr.onload=function(){showInfo(200==this.status?this.responseText:this.statusText)},xhr.send(formData)})});